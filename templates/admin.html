{% extends "root.html" %}

{% block title %}
  <title>Admin</title>
{% endblock %}

{% block style %}
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/admin.css') }}">
{% endblock %}

{% block content %}
    <nav class="navbar">
        <div class="logo">ALI</div>

        <ul>
          {% if isAdmin %}
          <li><a href="/admin">Admin</a></li>
          {%endif%}
          <li><a href="/home">Home</a></li>
          <li><a href="/takehome">Translator</a></li>
          <li><a href="/mychart">Previous Entries</a></li>
          <li><a href="/logout">Sign Out</a></li>
        </ul>

        <div class="hamburger">
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
        </div>
    </nav>

    <div class="links"> 
      <div class="exit-wrapper"><i class="fas fa-times link-close"></i></div>
      {% if isAdmin %}
      <div class="link"><a href="/admin">Admin<i class="fas fa-chevron-right"></a></i></div>
      {%endif%}
      <div class="link"><a href="/home">Home<i class="fas fa-chevron-right"></a></i></div>
      <div class="link"><a href="/takehome">Translator<i class="fas fa-chevron-right"></a></i></div>
      <div class="link"><a href="/mychart">Previous Entries<i class="fas fa-chevron-right"></a></i></div>
      <div class="link"><a href="/logout">Sign Out<i class="fas fa-chevron-right"></a></i></div>
    </div>

    {% if failedLogin %}
      <p style="color: red">Invalid Credentials</p>
    {% endif %}   
  
    {%if keyMade%}
    <form class="main" method="GET" id="generated">    
      <h1>Key Has Been Generated</h1>

      <h3>Your New Key Is Listed Below</h3>
      <input type="text" name="key" class="text" value="{{ key }}">

      <div class="button-wrapper">
          <a href="/" class="button cancel">Cancel</a>
          <a href="#" class="button generate" onclick="savekey()">Save</a>
      </div>
    </form>
    {%endif%} 

    {% if not keyMade %}
    <form class="main" method="POST">    
      <h1>Generate Company Key</h1>

      <h3>Username</h3>
      <input type="text" placeholder="Username" name="username" class="text">

      <h3>Password</h3>
      <input type="password" placeholder="Password" name="password" class="text">

      <h3>Company Name</h3>
      <input type="text" placeholder="Company Name" name="companyName" class="text">

      <h3>Company Id</h3>
      <input type="text" placeholder="Company ID" name="companyID" class="text">

      <div class="button-wrapper">
          <a href="/" class="button cancel">Cancel</a>
          <input type="submit" value="Submit" class="button generate">
      </div>
      {% endif %}
    </form>

    <script src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous">
    </script>
    <script src="../static/scripts/admin.js"></script>
{% endblock %}